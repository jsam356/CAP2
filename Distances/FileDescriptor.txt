Distances contains all of the files and code required for running the metagenomic data analysis, as well as part of the code for incorporating additional samples. This file lists brief descriptions of all that's found within the folder.

Abstracts.csv (comma delimited) contains the project title, project accession (PRJNA) and abstract of all projects which can be found in the Microbiome Papers Airtable (https://airtable.com/tblk8JHCqoRHTBcmL/viwgYW6wusoPGNsJj?blocks=hide). The abstracts are used in Scatterplot to add keywords to the projects.

CheckForNew.ipynb is a jupyter notebook which contains the code for identifying new samples within the data downloaded from Pangea, as well as to generate the Proj_UID files for new and old samples (see descriptions below) based on Entrez Direct downloaded information.

DraftMetadata.tab is a working file with metadata from the samples used in the Scatterplot analyses. For now it contains presence/absence information of certain terms in the samples, as well as the bioproject Id and run ID (SRR) of the samples.

KeywordConsolidation.xlsx is a working excel file for generating groups of either redundant or similar terms (keywords or MeSH terms) to be consolidate for data analyses in Scatterplot.

MeSHTerms and MeSHTerms_Orig are csv (semicolon delimited) files with the list of MeSh terms associated to each bioproject which has at least one sample currently being analyzed. MeSHTerms is the most recent version, while MeSHTerms_Orig is the older one made with only the original samples downloaded.

NewDistances.phyllip and NewDistances.tab are outputs of the Mash triangle function presented in two different formats. In a nutshell, they provide the pairwise Mash distances of the samples as a reduced phyllip format or a tabular format. NewDistances.tab also contains information on then statistical significance of each distance. Currently, only NewDistances.tab is being employed for loading distance data.

NewSampleIds.txt is a file generated by CheckForNew with the sample ids of the latest batch of data. It is used to look for the sample info in EntrezDirect (note that this is not done in any of the code here, but the results of Entrez Direct search for each batch are present in this folder).

NewSRARunInfo.csv and OldIDInfo.csv (comma delimited) are the downloaded RunInfo from the new and old samples respectively. This info is obtained from EntrezDirect with a custom made script. 

Papers-Grid_Min.csv (comma delimited) is a file with the title, bioproject id, and keywords of all of the bioprojects present in Airtable. It is used to link bioprojects (and by extension samples) to keywords.

PermanentConsolidation.csv and SecondaryConsolidation.csv (semicolon delimited) are files which contain the sets of words to be consolidated due to being redundant (Primary) or similar (secondary). The first column contains the term in which all words will be consolidated, and the rest the terms which are to be consolidated in the first one.

Proj_UID.csv and Proj_UIDBatch2.csv (semicolon delimited) contain every sample Id for the first and second batches of data, with their corresponding bioproject Id and SRR run identifier. More Proj_UID files will be added as more batches of data come along. This files are generated in the CheckForNew notebook.

Scatterplot.ipynb is the main notebook of the project. It contains all data loading code and all data analysis code.

Scatterplot-ClusteringTuning.ipynb is an auxiliary notebook for Scatterplot, which was constructed to test different parameters of DBSCAN and HDBSCAN clusterizations of the sample dataset and select one set of parameters to run in Scatterplot.

Scatterplot-forScript.ipynb is an auxiliary notebook for Scatterplot, which was made to contain only the code needed to run the keyword aleatorization analyses (see Scatterplot for details). The .py scripts in this folder all derive from the code in this notebook.

Scatterplot-forScript.py, Scatterplot-forScriptMajMeSH.py and Scatterplot-forScriptMinMesH.py are scripts derived from Scatterplot-forScript and are used to run the ramdomization analyses for keywords, major MeSh terms, and Minor MeSH terms respectively. The code is almost the same as in the notebook, with the single difference that each script generates a results file with the keywords which passed the randomization tests. Technically, the randomization test is done along a Wilcoxon Rank-Sum and a Kolmogorov-Smirnov test, but for short I term it simply randomization.

SigKeywords.txt, SigMajMeSH.txt, and SigMinMeSH.txt (tab delimited) are the output files from the Scatterplot-forScript scripts (.py) files. They contain the keywords, Major MeSH terms and Minor MeSH terms, respectively, which passed the randomization test.

TMDB_metadata.csv (comma delimited) is one of the auxiliary metadata files, this one from the Terrestrial metagenome database project (https://pubmed.ncbi.nlm.nih.gov/31728526/). For now it is not being used but will be loaded into scatterplot for analysis in  the future.